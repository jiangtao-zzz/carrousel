<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
input{ outline:medium;}
.box{width:800px;height:400px;border:1px solid red;margin:40px auto;position:relative;overflow:hidden;}
input[type="text"]{height:25px;width:200px;border-radius:100px;}
input[type="button"]{height:30px;border-radius:15px;}
.content{position:absolute;left:300px;bottom:0;width:400px;}
span{position:absolute;color:white;display:block;height:20px;}
</style>
<script src="js/jquery-3.1.1.min.js"></script>
</head>

<body>
<div class="box">
	<div class="content">
		<input type="text" value="  吐个槽呗:" onfocus="javascript:if(this.value=='  吐个槽呗:') this.value=''" onblur="javascript:if(this.value=='') this.value='  吐个槽呗:'"/>
		<input type="button" value="发送">
	</div>
</div>
<script>
$(function(){
var box=$(".box"),
 		btn=$("input:last"),
		talk=$("input:first")
	btn.click(function(){
		move();
	
	});
	$(document).keydown(function(){
		if(event.keyCode==13){
			move();
		}

	});

	function move(){
	
		content=talk.val();
		var talkto=$("<span></span>");
		talkto.text(content);
		talk.val("");
		box.append(talkto);
		var top=Math.floor(Math.random()*300);
		talkto.css({"left":800,
				"top":top,
				"background-color":getColor()
				
		
		});
		var talktolast=$("span:last-child")
		talktolast.animate({left:"-200px"},8000,function(){
		
			$(this).remove();
			
		});
		
		
		};
	function getColor(){
			var ca="";
			var arr=['a','b','c','d','e','f','0','1','2','3','4','5','6','7','8','9'];
			for(i=0;i<6;i++)
				{
					ca+=arr[Math.floor(Math.random()*15)];
	
				}
			return "#"+ca;
		}
		
	});

</script>
</body>
</html>
